function registerCustomer(){var e=addCustomer($("#firstNameSignUp").val(),$("#middleNameSignUp").val(),$("#lastNameSignUp").val(),$("#phoneNumber").val(),$("#emailSignUp").val(),getNoteSection(),true);switch(e.retCode){case 1:$.session.set("customerId",e.customerId);getOwnerByFLName($("#firstNameSignUp").val(),$("#lastNameSignUp").val(),$("#emailSignUp").val());break;default:$("#signUpLoader").hide();$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");showAlertBox("Error",ERROR_MSG);break}}function registerUser(){var e=$("#passwordSignUp").val();if($.session.get("isFBVerified")&&$("#signUpButton").hasClass("fbSignUp")){e=""}var t=addUser($.session.get("ownerId"),$("#emailSignUp").val(),e,$("#firstNameSignUp").val(),$("#lastNameSignUp").val(),INACTIVE,$("#emailSignUp").val());var n=getDecodePassword(t.encodePass,t.iv);switch(t.retCode){case 1:processActivation(t,$("#emailSignUp").val(),n.password);break;default:$("#signUpModal .closeIcon").removeClass("hide");showAlertBox("Error",ERROR_MSG);break}}function registerOwner(){var e=addOwner($.session.get("customerId"),$("#firstNameSignUp").val(),$("#lastNameSignUp").val(),$("#emailSignUp").val(),$("#phoneNumber").val(),true,getNoteSection());if(e.retCode){$.session.set("ownerId",e.ownerId);registerUser()}else{$("#signUpLoader").hide();$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");showAlertBox("Error",ERROR_MSG)}}function getCustomerByFLName(e,t,n){var r=e+" "+t;var i={action:GET_CUSTOMER_BY_FL_NAME,exact:MATCH_EMAIL,name:JSON.stringify(r),email:JSON.stringify(n)};$.ajax({type:"POST",url:API_URL,data:i,dataType:"json",headers:HEADER,error:function(e){$("#signUpLoader").hide();$(".modal").modal("hide");$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");showAlertBox("Error",ERROR_MSG)},success:function(e){if(e.retCode){$.session.set("customerId",e.customers[0].id);getOwnerByFLName($("#firstNameSignUp").val(),$("#lastNameSignUp").val(),$("#emailSignUp").val())}else if(!e.retCode){registerCustomer()}else{$("#signUpLoader").hide();$(".modal").modal("hide");$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");showAlertBox("Error",ERROR_MSG)}}})}function getOwnerByFLName(e,t,n){var r=e+" "+t;var i={action:GET_OWNERS_BY_FL_NAME,exact:MATCH_EMAIL,name:JSON.stringify(r),email:JSON.stringify(n)};$.ajax({type:"POST",url:API_URL,data:i,dataType:"json",headers:HEADER,error:function(e){$("#signUpLoader").hide();$(".modal").modal("hide");$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");showAlertBox("Error",ERROR_MSG)},success:function(e){if(e.retCode){$.session.set("ownerId",e.owners[0].id);registerUser()}else if(!e.retCode){registerOwner($.session.get("customerId"))}else{$("#signUpLoader").hide();$(".modal").modal("hide");$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");showAlertBox("Error",ERROR_MSG)}}})}function getUserByUserName(e){var t=getByUserName(e);switch(t.retCode){case 0:getCustomerByFLName($("#firstNameSignUp").val(),$("#lastNameSignUp").val(),$("#emailSignUp").val());break;case 1:$("#signUpLoader").hide();$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");$("#signUpModal").scrollTop(0);$("#messageContentSignUp").html("This email <b>"+$("#emailSignUp").val()+"</b> is already exists.");$("#messageSignUp").slideDown("slow");setTimeout(function(){$("#messageSignUp").slideUp("slow")},5e3);break;default:$("#signUpLoader").hide();$("#signUpModal .closeIcon").removeClass("hide");$("#signUpButton").removeAttr("disabled");$("#signUpModal").modal("hide");showAlertBox("Error",ERROR_MSG);break}}function getNoteSection(){var e=$("#phoneMessage").is(":checked")?"Y":"N";var t=String.format("SMS:{0}",e);return t}